volatile int req = 0, turn = 0;

void * thr1(void * arg)
{
  int lreq;
  while (1) {
  	lreq = req;
	turn = lreq;
  }
}

void * thr2(void * arg)
{
  int lturn;
  while (1) {
L1:	req = 1;
	lturn = turn;
	if lturn != 1 goto L1;

L2:	req = 2;
	lturn = turn;
	if lturn != 2 goto L2;

	lturn = turn;
 }
}


int main()
{
  __CPROVER_ASYNC_0: thr1(0);
  __CPROVER_ASYNC_1: thr1(0);
//thr2(0);

return 0;
}

