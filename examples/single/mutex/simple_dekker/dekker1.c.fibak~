

volatile int flag1 = 0, flag2 = 0;

void * thr1(void * arg)
{
while (1) {
L0:   	flag1 = 1;
  	if (flag2 == 1){
    		flag1 = 0;
		goto L0;
	}
//CS
	flag1 = 0;
}
}

void * thr2(void * arg)
{
while (1) {
L1:   	flag2 = 1;
  	if (flag1 == 1){
    		flag2 = 0;
		goto L1;
	}
//CS
	flag2 = 0;
}
}

int main()
{
  __CPROVER_ASYNC_0: thr1(0);
  __CPROVER_ASYNC_1: thr2(0);
  return 0;
}

